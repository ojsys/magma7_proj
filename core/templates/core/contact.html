{% extends 'base.html' %}
{% load form_extras %}
{% block title %}Contact Us • Magma7Fitness{% endblock %}
{% block content %}

<!-- Hero with image -->
<section style="width: 100vw; margin-left: calc(-50vw + 50%); min-height: 50vh; display: flex; align-items: center; justify-content: center; text-align: center; position: relative; overflow: hidden; padding: 100px 20px 60px;
  {% if site_settings and site_settings.hero_image_url %}
    background-image: linear-gradient(to bottom, rgba(0,0,0,.55), rgba(0,0,0,.55)), url('{{ site_settings.hero_image_url }}'); background-size: cover; background-position: center;
  {% else %}
    background-image: linear-gradient(to bottom, rgba(0,0,0,.55), rgba(0,0,0,.55)), url('https://images.unsplash.com/photo-1575320181282-c7d7118f6b97?q=80&w=1600&auto=format&fit=crop'); background-size: cover; background-position: center;
  {% endif %}">
  <div style="max-width: 900px; margin: 0 auto; position: relative; z-index: 1;">
    <h1 style="font-size: clamp(2.2rem, 5vw, 3.2rem); font-weight: 900; color: white; margin: 0 auto 1rem auto; text-transform: uppercase; letter-spacing: .5px;">Get in Touch</h1>
    <p style="color: rgba(255,255,255,.95); font-size: clamp(1rem, 1.2vw, 1.2rem); max-width: 760px; margin: 0 auto; line-height: 1.8;">
      Have questions about memberships, programs, or visits? Send us a message and we’ll respond quickly.
    </p>
  </div>
</section>

<!-- Contact Section (Materialize form) -->
<section class="section" style="padding: 60px 0; background: var(--light-bg);">
  <div class="container">
    <div class="row" style="display:flex; gap:30px;">
      <!-- Form -->
      <div class="col s12 m7" style="flex:1;">
        <div class="card" style="border-radius: 14px; padding: 26px; box-shadow: var(--shadow-md);">
          <h3 style="margin:0 0 14px 0; font-weight:800; color: var(--text-primary);">Send a Message</h3>
          <form method="post" novalidate>
            {% csrf_token %}
            <div class="row">
              <div class="input-field col s12 m6">
                <i class="material-icons prefix">person</i>
                {{ form.name|add_class:"validate" }}
                <label for="id_name" {% if form.name.value %}class="active"{% endif %}>Your Name</label>
                {% for e in form.name.errors %}<span class="helper-text red-text">{{ e }}</span>{% endfor %}
              </div>
              <div class="input-field col s12 m6">
                <i class="material-icons prefix">email</i>
                {{ form.email|add_class:"validate" }}
                <label for="id_email" {% if form.email.value %}class="active"{% endif %}>Email Address</label>
                {% for e in form.email.errors %}<span class="helper-text red-text">{{ e }}</span>{% endfor %}
              </div>
              <div class="input-field col s12">
                <i class="material-icons prefix">subject</i>
                {{ form.subject|add_class:"validate" }}
                <label for="id_subject" {% if form.subject.value %}class="active"{% endif %}>Subject</label>
                {% for e in form.subject.errors %}<span class="helper-text red-text">{{ e }}</span>{% endfor %}
              </div>
              <div class="input-field col s12">
                <i class="material-icons prefix">chat</i>
                {{ form.message|add_class:"materialize-textarea" }}
                <label for="id_message" {% if form.message.value %}class="active"{% endif %}>Message</label>
                {% for e in form.message.errors %}<span class="helper-text red-text">{{ e }}</span>{% endfor %}
              </div>
              <div class="input-field col s12 m6">
                <i class="material-icons prefix">call</i>
                {{ form.phone|add_class:"validate" }}
                <label for="id_phone" {% if form.phone.value %}class="active"{% endif %}>Phone (optional)</label>
              </div>
              {{ form.website }}
            </div>
            <div style="margin-top: 14px; display:flex; gap:10px;">
              <button type="submit" class="btn btn-primary waves-effect waves-light">Send Message</button>
              <a href="/memberships/plans/" class="btn btn-outline waves-effect">View Plans</a>
            </div>
          </form>
        </div>
      </div>

      <!-- Contact Info -->
      <div class="col s12 m5" style="flex:1;">
        <div class="card" style="border-radius: 14px; padding: 26px; box-shadow: var(--shadow-md);">
          <h3 style="margin:0 0 14px 0; font-weight:800; color: var(--text-primary);">Contact Info</h3>
          <ul style="list-style:none; padding:0; margin:0; color:#475569; line-height:1.9;">
            {% if site_settings and site_settings.address %}
            <li><i class="material-icons tiny" style="color: var(--primary-green);">place</i> {{ site_settings.address }}</li>
            {% endif %}
            {% if site_settings and site_settings.phone %}
            <li><i class="material-icons tiny" style="color: var(--primary-green);">phone</i> {{ site_settings.phone }}</li>
            {% endif %}
            {% if site_settings and site_settings.email %}
            <li><i class="material-icons tiny" style="color: var(--primary-green);">email</i> {{ site_settings.email }}</li>
            {% endif %}
          </ul>
          <div style="margin-top: 18px;">
            <a href="/facilities/" class="btn btn-outline waves-effect">Explore Facilities</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    if (window.M && M.updateTextFields) { M.updateTextFields(); }
  });
</script>

{% endblock %}
